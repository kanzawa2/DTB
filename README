* DTBの環境構築手順
  created_at: 2013/03/04
  updated_at: 2013/03/04
  updated_by: 福田 大志
  
** 1. はじめに
   本資料では，デスクトップブックマーク(DTB)の開発および実行環境の構築手順について述べる．

** 2. 開発および実行環境
   DTBの開発(実行)環境は，以下の通りである．
   | Ruby          | 1.9.3 |
   | Ruby on Rails | 3.1.1 |

   
   現在，以下の環境においてDTBの動作を確認している．
   1. Windows Vista(32bit)
   2. 

** 3. 必要なファイルの準備
*** RubyInstaller
    Rubyのインストールには，RubyInstallerを使用する．
    http://rubyinstaller.org からダウンロードするか，
    nas2/share/nomlab/ruby1.9.3-for-windows/rubyInstaller-1.9.3-p392.exe
    においてあるものを使って下さい．

*** DevelopmentKit(DevKit)
    一部のGem(ライブラリ)の導入には，DevKitが必要になる．
    32bitOSと64bitOSで使用するものが異なるため，間違えないよう注意する．
    Windows(32bit)用:
      nas2/share/nomlab/ruby1.9.3-for-windows/DevKit-tdm-32-4.5.2-20111229-1559-sfx.exe
    Windows(64bit)用:
      nas2/share/nomlab/ruby1.9.3-for-windows/

*** DTBのリポジトリ
    DTBのリポジトリは，Githubで管理している．
    git clone git@github.com:nomlab/DTB.git
    で，クローンする．
    Gitのインストールについては，********* を参照．

** 4. Rubyの環境構築
   1. RubyInstaller を実行する
      インストール時に，"PATHを通す" にチェックを入れること．
   2. DevKit のインストール
      1. DevKit-tdm-32-4.5.2-20111229-1559-sfx.exe を c:/DevKit に解凍する．
      2. コマンドプロンプトを起動し，以下のコマンドを実行する．
         # cd c:/DevKit
         # ruby dk.rb init
         # ruby dk.rb install
** 5. Railsのインストール
   コマンドプロンプトを起動し，以下のコマンドを実行する．
   ここでは，DTBのリポジトリを"c:/users/fukuda/DTB"に
   クローンしたものとして解説する．
   1. # cd c:/users/fukuda/DTB
   2. # gem install bundler
   3. # bundle install

** 6. squid の設定
   DTBは，Webページの閲覧履歴の収集に squid というプロキシサーバを利用する．
   squid のデフォルトの設定は，c:/squid での利用を想定している．
   しかし，DTBでは lib/squid に配置している．
   このため，各自の環境に合わせて設定ファイルを作る必要がある．
   lib/squid_setup.rb を実行すると，設定ファイルが生成される．
     # ruby squid_setup.rb
** 7. データベースのマイグレーション
   rake db:migrate

** 8. おわり
   rails c とか rails s とかで確認してください．
